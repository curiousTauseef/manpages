<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
	<HEAD>
		<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
		<TITLE>History of UNIX Manpages</TITLE>
		<STYLE TYPE="text/css">
			p.timeline-img { text-align: center; }
			img.timeline-img { width: 60em; }
			body { font-family: serif; line-height: 14pt; font-size: 10pt; padding-left: 2%; }
			dd { margin-bottom: 2em; }
			.cmd { font-style: italic; }
			p.sources-primary, p.sources-secondary { margin-bottom: 0.25em; }
			.ref-book { font-style: italic; }
			.ref-title { font-style: italic; }
			p.foot { margin-top: 1em; color: #666666; font-size: smaller; }
			h1 { margin-left: -1.5%; font-size: inherit; }
			h2 { margin-left: -1.0%; font-size: inherit; }
			h3 { margin-left: -0.5%; font-size: inherit; }
		</STYLE>
	</HEAD>
	<BODY>
		<H1>
			History of UNIX Manpages
		</H1>
		<P>
			This is a history of the utilities and formats relevant to the UNIX manpage.
			I begin with <A HREF="#prehistory">Prehistory</A>, from the time before UNIX, then continue with the <A
			HREF="#classical">Classical Age</A> establishing the conventions that persist to the present day.
			I then consider the <A HREF="#renaissance">Renaissance</A>, when earlier utilities were re-written (for various
			reasons), and finally the <A HREF="#nextgen">Next Generation</A> of specialised utilities.
		</P>
		<H2>
			Timeline
		</H2>
		<P CLASS="timeline-img">
			<A HREF="apps.png"><IMG CLASS="timeline-img" SRC="apps.png" ALT="Timeline of UNIX manpage utilities"></A>
		</P>
		<H3 ID="prehistory">
			Prehistory: 1964&ndash;1970
		</H3>
		<DL>
			<DT>
				1964: <SPAN CLASS="cmd">RUNOFF</SPAN> (<A HREF="#saltzer">Jerome H. Saltzer</A>)
			</DT>
			<DD>
				<P>
					<A HREF="#saltzer">Saltzer</A> wrote the <SPAN CLASS="cmd">RUNOFF</SPAN> utility for MIT's CTSS
					operating system in the MAD computer language.  Its legacy is considerable: at the very least, <SPAN
					CLASS="cmd">RUNOFF</SPAN> introduced the familiar line-based, dot-preceeded syntax used in modern UNIX
					manpages.  
				</P>
				<BLOCKQUOTE CITE="http://web.mit.edu/Saltzer/www/publications/ctss/AH.9.01.pdf">
					<P>
						Input generally consists of English text, 36O or fewer characters to a line. Control words must
						begin a new line, and they begin with a period so that they may be distinguished from other
						text. RUNOFF does not print the control words.
					</P>
				</BLOCKQUOTE>
				<P>
					In fact, several of the abbreviated <SPAN CLASS="cmd">RUNOFF</SPAN> control words are still common in
					today's manpages, such as <CODE>sp</CODE> and <CODE>br</CODE>.
				</P>
				<P>
					The primary source for this is the <SPAN CLASS="cmd">RUNOFF</SPAN> source itself, found in the <SPAN
					CLASS="file">com5</SPAN> file in the source directory (invocation at line 19782, text processing from
					line 20014).  Secondary sources are memoranda relating to the input format, which may also be deduced
					from the text processing section of the source.
				</P>
				<DIV CLASS="sources">
					<P CLASS="sources-primary">
						Primary sources: 
					</P>
					<UL CLASS="sources-primary">
						<LI>
							<A CLASS="ref-link" HREF="http://www.piercefuller.com/library/ctss.html">CTSS source
							listings</A>, hosted by <A HREF="http://www.piercefuller.com/">Paul Pierce</A>.
							
						</LI>
					</UL>
					<P CLASS="sources-secondary">
						Secondary sources:
					</P>
					<UL CLASS="sources-secondary">
						<LI>
							<SPAN CLASS="ref-editor">Patricia Crisman</SPAN>,
							<SPAN CLASS="ref-author">Jerome H. Saltzer</SPAN>,
							<A CLASS="ref-title ref-link"
							HREF="http://web.mit.edu/Saltzer/www/publications/ctss/AH.9.01.pdf">Manuscript Typing
							and Editing</A>,
							<SPAN CLASS="ref-book">The Compatible Time-Sharing System, A Programmers Guide</SPAN>,
							<SPAN CLASS="ref-sec">AH.9.01</SPAN>,
							<SPAN CLASS="ref-edition">2</SPAN>,
							<SPAN CLASS="ref-publisher">M.I.T. Press</SPAN>,
							<SPAN CLASS="ref-date">1965</SPAN>,
							<SPAN CLASS="ref-revised">December 1966</SPAN>.
						</LI>
						<LI>
							<SPAN CLASS="ref-author">Jerome H. Saltzer</SPAN>,
							<A CLASS="ref-title ref-link"
							HREF="http://mit.edu/saltzer/www/publications/ctss/ctss/CC-244.pdf">TYPSET and RUNOFF,
							memorandum editor and type-out commands</A>,
							<SPAN CLASS="ref-book">M.I.T. Computation Center Memorandum</SPAN>,
							<SPAN CLASS="ref-sec">CC-244</SPAN>,
							<SPAN CLASS="ref-date">6 November, 1964</SPAN>.
						</LI>
					</UL>
				</DIV>
			</DD>
			<DT>
				1969: <SPAN CLASS="cmd">runoff</SPAN> (<A HREF="http://www.cs.dartmouth.edu/~doug/">Douglas McIlroy</A>)
			</DT>
			<DD>
				<P>
					In 1969, Douglas McIlroy released a version of <SPAN CLASS="cmd">runoff</SPAN> for the Multics operating
					system on the GE-645 computer.  The link between CTSS and Multics is one of inheritence: CTSS (or the
					group at MIT, Project MAC) begat Multics (for details see, e.g., <A
					HREF="http://www.multicians.org/thvv/7094.html">the IBM 7094 and CTSS</A>).  
					Accepting Multics as the predecessor to UNIX, it
					follows that <SPAN CLASS="cmd">runoff</SPAN> was the proper predecessor to <SPAN
					CLASS="cmd">roff(1)</SPAN>.
				</P>
				<P>
					The development of Multics <SPAN CLASS="cmd">runoff</SPAN> is tersely documented in the BCPL source code
					as a comment:
				</P>
				<BLOCKQUOTE CITE="http://web.mit.edu/multics-history/source/Multics/ldd/system_library_standard/source/bound_runoff_.s.archive">
					<P>
						The first ROFF for Multics was written in March, 1969, by Doug McIlroy of Bell Labs.  Art Evans
						made extensive modifications to it in May and June, 1969, adding many comments and making
						various changes.  Footnoting added by Dennis Capps in 1970.  Maintained by Harwell Thrasher in
						1971.  Many new features added and bugs fixed by R Mabee in 1971-1972.  RUNOFF and BCPL were
						brought over to the 6180 Multics (from 645) in May of 1973 by R F Mabee.
					</P>
				</BLOCKQUOTE>
				<P>
					I could only the Honeywell-6180 sources, ported by R. F. Mabee, and not the original GE-645 sources as
					written by McIlroy.
				</P>
				<DIV CLASS="sources">
					<P CLASS="sources-primary">
						Primary sources: 
					</P>
					<UL CLASS="sources-primary">
						<LI>
							<A CLASS="ref-link"
							HREF="http://web.mit.edu/multics-history/source/Multics/ldd/system_library_standard/source/bound_runoff_.s.archive">
							Multics source listings</A>, hosted by the <A
							HREF="http://web.mit.edu/multics-history/source/Multics_Internet_Server/Multics.html">Multics
							Internet Server</A>.
						</LI>
					</UL>
					<P CLASS="sources-secondary">
						Secondary sources:
					</P>
					<UL CLASS="sources-secondary">
						<LI>
							<A CLASS="ref-title ref-link" HREF="http://www.multicians.org/unix.html">Unix and
							Multics</A>,
							<SPAN CLASS="ref-author">Tom Van Vleck</SPAN>,
							<SPAN CLASS="ref-date">21 March, 1993</SPAN>,
							<SPAN CLASS="ref-revised">5 February, 1995</SPAN>.
						</LI>
					</UL>
				</DIV>
			</DD>
		</DL>
		<H3 ID="classical">
			Classical Age: 1971&ndash;1988
		</H3>
		<DL>
			<DT>
				1971: <SPAN CLASS="cmd">roff(1)</SPAN> (<A HREF="#ossanna">Joseph F. Ossanna</A>)
			</DT>
			<DD>
				<P>
					Most of the programming team for Multics (including <A HREF="#ossanna">Ossanna</A>, D. McIlroy, K.
					Thompson, B. Kernighan, etc.) continued working with UNIX, so it's no surprise that Multics <SPAN
					CLASS="cmd">runoff</SPAN> was incorporated as UNIX <SPAN CLASS="cmd">roff(1)</SPAN>.  Unfortunately, the
					first <SPAN CLASS="cmd">roff(1)</SPAN> versions, written in PDP-11/20 assembly for Version 1 AT&amp;T
					UNIX, appear to be lost.  (Some sources were reconstructed from old tapes, but <SPAN
					CLASS="cmd">roff(1)</SPAN> was not among them.)  All that remains from this time are manual entries.
				</P>
				<P>
					Secondary sources mention that <A HREF="#ossanna">Ossanna</A> is mostly responsible for <SPAN
					CLASS="cmd">roff(1)</SPAN>; however, the manual entries show three authors: <A
					HREF="#ossanna">Ossanna</A>, Ritchie, and Thompson.
				</P>
				<DIV CLASS="sources">
					<P CLASS="sources-primary">
						Primary sources: 
					</P>
					<UL CLASS="sources-primary">
						<LI>
							<I>No source code available</I>.
						</LI>
					</UL>
					<P CLASS="sources-secondary">
						Secondary sources:
					</P>
					<UL CLASS="sources-secondary">
						<LI>
							<SPAN CLASS="ref-author">Joseph F. Ossanna</SPAN>,
							<A CLASS="ref-title ref-link"
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V1/man/man1/roff.1">roff(1)</A>,
							<SPAN CLASS="ref-book">UNIX Programmer's Manual</SPAN>,
							<SPAN CLASS="ref-edition">1</SPAN>,
							<SPAN CLASS="ref-date">November, 1971</SPAN>.
						</LI>
					</UL>
				</DIV>
			</DD>
			<DT>
				1973: <SPAN CLASS="cmd">nroff(1)</SPAN>, <SPAN CLASS="cmd">roff(1)</SPAN>, and <SPAN CLASS="cmd">troff(1)</SPAN>
				(<A HREF="#ossanna">Joseph F. Ossanna</A>)
			</DT>
			<DD>
				<P>
					Source manuals indicate a split between <SPAN CLASS="cmd">roff(1)</SPAN> into <SPAN
					CLASS="cmd">nroff(1)</SPAN> for Version 3 AT&amp;T UNIX, then into <SPAN CLASS="cmd">troff(1)</SPAN> for
					Version 4 AT&amp;T UNIX.  (No coherent sources for these utilities remains from before Version 5
					AT&amp;T UNIX.)
				</P>
				<P>
					Development on these utilities, judging by the manual authors, was between <A
					HREF="#ossanna">Ossanna</A>, Dennis Ritchie, and Ken Thompson; however, secondary sources focus on <A
					HREF="#ossanna">Ossanna</A> alone.
				</P>
				<P>
					UNIX PDP-11/20 assembly sources exist for <SPAN CLASS="cmd">roff(1)</SPAN> and <SPAN
					CLASS="cmd">nroff(1)</SPAN> starting in Version 5 AT&amp;T UNIX sources (dated 27 November, 1974) and
					Version 6 AT&amp;T UNIX sources (July, 1975), respectively.  The former is copyright-dated to 1972, so it's not
					unrealistic to assume these are modified versions of Ossanna's lost <SPAN CLASS="cmd">roff(1)</SPAN> for
					pre-Version 5 AT&amp;T UNIX.  I can't find any sources for <SPAN CLASS="cmd">troff(1)</SPAN>, though 
					Ken Wellsch's raw tape archives mention <SPAN CLASS="cmd">troff(1)</SPAN> assembly files alongside those
					for <SPAN CLASS="cmd">nroff(1)</SPAN>. 
				</P>
				<P>
					Note that the Version 6 AT&amp;T UNIX <SPAN CLASS="cmd">neqn(1)</SPAN> sources were written in C.
				</P>
				<DIV CLASS="sources">
					<P CLASS="sources-primary">
						Primary sources: 
					</P>
					<UL CLASS="sources-primary">
						<LI>
							<A CLASS="ref-link"
							HREF="http://minnie.tuhs.org/Archive/PDP-11/Distributions/research/Ken_Wellsch_v6/">Version
							6 AT&amp;T UNIX tape archive</A>, hosted by the <A HREF="http://www.tuhs.org">UNIX
							Heritage Society</A>.
						</LI>
						<LI>
							<A CLASS="ref-link"
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V5/usr/source/s7">Version 5 AT&amp;T
							source listings</A>, hosted by the <A
							HREF="http://www.tuhs.org">UNIX Heritage Society</A>.
						</LI>
						<LI>
							<A CLASS="ref-link"
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V6/usr/source/s7">Version 6 AT&amp;T
							source listings</A>, hosted by the <A HREF="http://www.tuhs.org">UNIX Heritage
							Society</A>.
						</LI>
					</UL>
					<P CLASS="sources-secondary">
						Secondary sources:
					</P>
					<UL CLASS="sources-secondary">
						<LI>
							<A CLASS="ref-title ref-link"
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V3/man/man1/nroff.1">nroff(1)</A>,
							<SPAN CLASS="ref-book">UNIX Programmer's Manual</SPAN>,
							<SPAN CLASS="ref-edition">3</SPAN>,
							<SPAN CLASS="ref-date">15 January, 1973</SPAN>.
						</LI>
						<LI>
							<A CLASS="ref-title ref-link"
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V3/man/man1/roff.1">roff(1)</A>,
							<SPAN CLASS="ref-book">UNIX Programmer's Manual</SPAN>,
							<SPAN CLASS="ref-edition">3</SPAN>,
							<SPAN CLASS="ref-date">6 December, 1972</SPAN>.
						</LI>
						<LI>
							<A CLASS="ref-title ref-link"
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V4/man/man1/troff.1">troff(1)</A>,
							<SPAN CLASS="ref-book">UNIX Programmer's Manual</SPAN>,
							<SPAN CLASS="ref-edition">4</SPAN>,
							<SPAN CLASS="ref-date">15 January, 1973</SPAN>.
						</LI>
					</UL>
				</DIV>
			</DD>
			<DT>
				1979: <SPAN CLASS="cmd">ditroff(1)</SPAN> (<A HREF="#ossanna">Joseph F. Ossanna</A>, <A
				HREF="http://www.cs.bell-labs.com/who/bwk/index.html">Brian Kernighan</A>)
			</DT>
			<DD>
				<P>
					This boasts the first intact UNIX <SPAN CLASS="cmd">troff(1)</SPAN> source: in the sources, <SPAN
					CLASS="cmd">ditroff(1)</SPAN> isn't named as such (when was it termed as such?).  By Version 7 AT&amp;T
					UNIX, both <SPAN CLASS="cmd">nroff(1)</SPAN> and <SPAN CLASS="cmd">troff(1)</SPAN> are built from the
					same C sources while <SPAN CLASS="cmd">roff(1)</SPAN> is still built in its PDP-11/20 assembly.
				</P>
				<P>
					The UNIX/32V port of Version 7 AT&amp;T UNIX to the VAX architecture also contains the <SPAN
					CLASS="cmd">troff(1)</SPAN> sources (of course in C).  The inclusion of <SPAN
					CLASS="cmd">troff(1)</SPAN> in ported systems quickly became the norm; most modern <SPAN
					CLASS="cmd">troff(1)</SPAN> and <SPAN CLASS="cmd">nroff(1)</SPAN> systems descend from this utility.
				</P>
				<DIV CLASS="sources">
					<P CLASS="sources-primary">
						Primary sources: 
					</P>
					<UL CLASS="sources-primary">
						<LI>
							<A CLASS="ref-link"
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=32V/usr/src/cmd/troff">UNIX/32V
							AT&amp;T source listings</A>, hosted by the <A HREF="http://www.tuhs.org">UNIX Heritage
							Society</A>.
						</LI>
						<LI>
							<A CLASS="ref-link"
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V7/usr/src/cmd/troff">Version 7
							AT&amp;T source listings</A>, hosted by the <A HREF="http://www.tuhs.org">UNIX Heritage
							Society</A>.
						</LI>
					</UL>
				</DIV>
			</DD>
		</DL>
		<H3 ID="renaissance">
			Renaissance: 1989&ndash;2007
		</H3>
		<P>
			This covers re-implementations of the classic <SPAN CLASS="cmd">roff(1)</SPAN>, <SPAN CLASS="cmd">troff(1)</SPAN>, and
			<SPAN CLASS="cmd">nroff(1)</SPAN> utilities.
		</P>
		<DL>
			<DT>
				1989: GNU troff (<A HREF="http://www.jclark.com/">James Clarke</A>)
			</DT>
			<DD>
				<P>
					TODO...
				</P>
			</DD>
		</DL>
		<H3 ID="nextgen">
			Next Generation: 2008&ndash;present
		</H3>
		<H2>
			People
		</H2>
		<DL>
			<DT ID="saltzer">Jerome H. Saltzer</DT>
			<DD>
				<P>
					Author of <SPAN CLASS="cmd">RUNOFF</SPAN> while working in MIT's CTSS project.  Homepage: <A
					HREF="http://mit.edu/saltzer/">mit.edu/saltzer</A>.
				</P>
			</DD>
			<DT ID="ossanna">Joseph F. Ossanna</DT>
			<DD>
				<P>
					Worked on the PDP-11/20 assembly-language <SPAN CLASS="cmd">roff(1)</SPAN>, <SPAN
					CLASS="cmd">nroff(1)</SPAN>, and <SPAN CLASS="cmd">troff(1)</SPAN> for Versions 1&ndash;7 AT&amp;T UNIX
					while working at Bell Telephone Labs. 
				</P>
			</DD>
		</DL>
		<P CLASS="foot">
			<SMALL>
				Copyright &copy; 2011 <A CLASS="external" HREF="http://kristaps.bsd.lv">Kristaps Dzonsons</A>, $Date$
			</SMALL>
		</P>
	</BODY>
</HTML>
