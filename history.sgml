<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
	<HEAD>
		<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
		<TITLE>History of UNIX Manpages</TITLE>
		<LINK REL="stylesheet" HREF="css/book.css" TYPE="text/css" MEDIA="all">
		<LINK REL="stylesheet" HREF="css/history.css" TYPE="text/css" MEDIA="all">
	</HEAD>
	<BODY>
		<H1>
			History of UNIX Manpages
		</H1>
		<P>
			Where do UNIX manpages come from?  Who introduced the section-based layout of <B>NAME</B>, <B>SYNOPSIS</B>, and so on?
			And for manpage source writers and readers: where were those economical two- and three-letter instructions developed?
			The many accounts available on the Internet are ambiguous and at times conflicting.  This is due primarily to the loss
			of historical materials &mdash; only recently were the primary historical sources re-licensed and made available to the
			public.
		</P>
		<P>
			In this article, I reconstruct the history of the UNIX manpage from <A CLASS="cmd" HREF="#x1964_RUNOFF">RUNOFF</A>
			onward.  I make significant use of the <Q CITE="http://mirror.cc.vt.edu/pub/projects/Ancient_Unix/">Ancient UNIX</Q>
			source code permissively re-licensed by Caldera International in 2002; the Multics source code as permissively licensed
			by M.I.T.; and the CTSS source code (public domain?).
		</P>
		<P>
			Special thanks to <A HREF="http://www.piercefuller.com/">Paul Pierce</A> for his CTSS <A
			HREF="http://www.piercefuller.com/library/ctss.html">source archive</A>; Bernard Nivelet for the <A
			HREF="http://web.mit.edu/multics-history/source/Multics_Internet_Server/Multics_sources.html">Multics Internet
			Server</A>; the <A HREF="http://www.tuhs.org">UNIX Heritage Society</A> for their research UNIX <A
			HREF="http://minnie.tuhs.org/cgi-bin/utree.pl">source reconstruction</A>; <A
			HREF="http://www.bitsavers.org/">BitSavers</A> for their historical archive; and last but not least, Rudd Canaday, Brian
			Kernighan, Douglas McIlroy, Jerome Saltzer, Henry Spencer, Ken Thompson, and Tom Van Vleck for letting me pester them
			with questions.
		</P>
		<P>
			Please see the <A HREF="#copyright">Copyright</A> section if you plan on reproducing parts of this work.
		</P>
		<H2>
			Timeline
		</H2>
		<P STYLE="text-align: center;">
			<IMG SRC="history.png" ALT="Timeline of UNIX manpage utilities" USEMAP="#manpages">
		</P>
		<H3 ID="prehistory">
			Prehistory
		</H3>
		<DL>
			<DT ID="x1964_RUNOFF">
				1964: <SPAN CLASS="cmd">RUNOFF</SPAN> (<A HREF="#saltzer">Jerome H. Saltzer</A>)
			</DT>
			<DD>
				<P>
					<A HREF="#saltzer">Saltzer</A> wrote the <SPAN CLASS="cmd">RUNOFF</SPAN> utility for MIT's IBM 7094 CTSS
					operating system in the MAD computer language.  Its legacy is considerable: at the very least, <SPAN
					CLASS="cmd">RUNOFF</SPAN> introduced the familiar line-based, dot-control syntax used in modern UNIX
					manpages.
				</P>
				<BLOCKQUOTE CITE="http://web.mit.edu/Saltzer/www/publications/ctss/AH.9.01.pdf">
					<P>
						Input generally consists of English text, 36O or fewer characters to a line. Control words must
						begin a new line, and they begin with a period so that they may be distinguished from other
						text. <SPAN CLASS="cmd">RUNOFF</SPAN> does not print the control words.
					</P>
				</BLOCKQUOTE>
				<P>
					In fact, several of the abbreviated <SPAN CLASS="cmd">RUNOFF</SPAN> control words are still common in
					today's manpages (formatted by modern <SPAN CLASS="cmd">troff</SPAN>-like systems), such as
					<CODE>sp</CODE> and <CODE>br</CODE>.  According to <A HREF="#saltzer">Saltzer</A> and the source
					literature, the syntax of <SPAN CLASS="cmd">RUNOFF</SPAN> inherits from the prior <SPAN
					CLASS="cmd">DITTO</SPAN>, <SPAN CLASS="cmd">MEMO</SPAN>, and <SPAN CLASS="cmd">MODIFY</SPAN> utilities
					by M. L. Lowry, 1963.  Unfortunately, the sources for these utilities could not be located in the CTSS
					source archive.
				</P>
				<DIV CLASS="sources">
					<P>
						Sources: 
					</P>
					<UL>
						<LI>
							<A CLASS="ref-link" HREF="http://www.piercefuller.com/library/ctss.html">CTSS source
							listings</A>, hosted by <A HREF="http://www.piercefuller.com/">Paul Pierce</A>.  A copy
							of the <A HREF="history/RUNOFF.gz">source file</A> containing <SPAN
							CLASS="cmd">RUNOFF</SPAN> is available locally with permission of Mr. Pierce and Mr.
							Saltzer (see lines 19728, 20014), as well as a copy of the <A
							HREF="history/RUNOFF.info">manual</A>.
						</LI>
						<LI>
							Patricia Crisman and Jerome H. Saltzer, <I><A
							HREF="http://web.mit.edu/Saltzer/www/publications/ctss/AH.9.01.pdf">Manuscript Typing
							and Editing</A></I>, <I>The Compatible Time-Sharing System, A Programmers Guide</I>,
							AH.9.01 (second edition).  M.I.T. Press, 1965 (revised December 1966).
						</LI>
						<LI>
							Jerome H. Saltzer, <I><A
							HREF="http://mit.edu/saltzer/www/publications/ctss/ctss/CC-244.pdf">TYPSET and RUNOFF,
							memorandum editor and type-out commands</A></I>, <I>M.I.T. Computation Center
							Memorandum</I>, CC-244. 6 November, 1964.
						</LI>
						<LI>
							Jerome Saltzer, <I><A HREF="history/saltzer_22_10_2011.txt">UNIX manpage history: CTSS
							RUNOFF</A></I>.  22 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
					</UL>
				</DIV>
			</DD>
			<DT ID="x1967_roff">
				1967: <SPAN CLASS="cmd">roff</SPAN> (<A HREF="#morris">Robert Morris</A>)
			</DT>
			<DD>
				<P>
					Very little is known about this re-write of <A HREF="#x1964_RUNOFF" CLASS="cmd">RUNOFF</A>, only that it
					was called <SPAN CLASS="cmd">roff</SPAN> and ran on Bell Labs' GCOS-II GE-635 (XXX: why was it ported?).
					<A HREF="#ritchie">Ritchie</A> is commonly cited as participating in this port, and this is not
					disputed.  Rudd Canaday is also mentioned as an author, and <A HREF="#mcilroy">McIlroy</A> verifies this
					possibility.
				</P>
				<P>
					The accounts of both <A HREF="#mcilroy">McIlroy</A> and <A HREF="#saltzer">Saltzer</A> conclude that
					this version was likely written in BCPL, much like <A CLASS="cmd" HREF="#x1969">runoff</A>.
				</P>
				<DIV CLASS="sources">
					<P>
						Sources: 
					</P>
					<UL>
						<LI>
							Douglas McIlroy, <I><A HREF="history/mcilroy_21_10_2011.txt">UNIX manpage history:
							runoff</A></I>.  21 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
						<LI>
							Douglas McIlroy, <I><A HREF="history/mcilroy_22_10_2011.txt">UNIX manpage history:
							runoff</A></I>.  22 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
						<LI>
							Douglas McIlroy, <I><A HREF="history/mcilroy_23_10_2011.txt">UNIX manpage history:
							runoff</A></I>.  23 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
						<LI>
							Jerome Saltzer, <I><A HREF="history/saltzer_22_10_2011.txt">UNIX manpage history: CTSS
							RUNOFF</A></I>.  22 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
						<LI>
							Jerome Saltzer, <I><A HREF="history/saltzer_23_10_2011.txt">UNIX manpage history: CTSS
							RUNOFF</A></I>.  23 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
					</UL>
				</DIV>
			</DD>
			<DT ID="x1967_SCRIPT">
				1967: <SPAN CLASS="cmd">SCRIPT</SPAN> (<A HREF="#madnick">Stuart Madnick</A>)
			</DT>
			<DD>
				<P>
					In 1967, <A HREF="#madnick">Madnick</A> ported the <A CLASS="cmd" HREF="#x1964_RUNOFF">RUNOFF</A> code to
					the IBM CP67/CMS as <SPAN CLASS="cmd">SCRIPT</SPAN> (XXX: why did he rename it?).  The documentation of
					<SPAN CLASS="cmd">SCRIPT</SPAN> explicitly mentions the backspace-encoding convention used to this day
					by manpage formatters on UNIX terminals (of course, this was common practice in mechanical type-writers
					before then):
				</P>
				<BLOCKQUOTE CITE="http://www.bitsavers.org/pdf/ibm/360/cp67/">
					<P>
						Thus the backspace key allows underscoring and overprinting at the terminal for <SPAN
						CLASS="cmd">SCRIPT</SPAN> files.  The logical backspace character prints only when entered and
						does not take up a column in the record; it logically backspaces one column...
					</P>
				</BLOCKQUOTE>
				<P>
					Source code for the original re-write of <A HREF="#x1964_RUNOFF">RUNOFF</A> could not be located,
					although a considerable amount of documentation exists for this utility.  The dates of <A
					HREF="#madnick">Madnick</A>'s porting derive from his publication and independent accounts.
				</P>
				<DIV CLASS="sources">
					<P>
						Sources: 
					</P>
					<UL>
						<LI>
							Stuart E. Madnick and Allen Moulton, <I><A
							HREF="http://web.mit.edu/smadnick/www/papers/J002.pdf">SCRIPT, an On-line Manuscript
							Processing System</A></I>, <I>IEEE Transactions on Engineering Writing and Speech</I>,
							Vol. EWS-11, No.  2.  August, 1968.
						</LI>
						<LI>
							<I><A HREF="http://www.bitsavers.org/pdf/ibm/360/cp67/">Control Program-67/Cambridge
							Monitor System (CP67/CMS) User's Guide</A></I>, Version 3, Program Number
							3600-05.2.005.  October, 1970.
						</LI>
						<LI>
							Jerome Saltzer, <I><A HREF="saltzer_22_10_2011.txt">UNIX manpage history: CTSS
							RUNOFF</A></I>.  22 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
					</UL>
				</DIV>
			</DD>
			<DT ID="x1969">
				1969: <SPAN CLASS="cmd">runoff</SPAN> (<A HREF="#mcilroy">Douglas McIlroy</A>)
			</DT>
			<DD>
				<P>
					In 1969, <A HREF="#mcilroy">McIlroy</A> released an influential BCPL port of <A CLASS="cmd"
					HREF="#x1964_RUNOFF">RUNOFF</A> in order <Q>to extend the runoff model</Q> to the CTSS GE-645 computer.
					He did not refer to the CTSS <A CLASS="cmd" HREF="#x1964_RUNOFF">RUNOFF</A> source code in writing <SPAN
					CLASS="cmd">runoff</SPAN>, nor the GE-635 <A CLASS="cmd" HREF="#x1967_roff">roff</A>.  The progress of
					this utility subsequent 1969 is recorded in the Multics BCPL source as ported by R. F. Mabee in 1974:
				</P>
				<BLOCKQUOTE CITE="http://web.mit.edu/multics-history/source/Multics/ldd/system_library_standard/source/bound_runoff_.s.archive">
					<P>
						The first <SPAN CLASS="cmd">ROFF</SPAN> for Multics was written in March, 1969, by Doug <A
						HREF="#mcilroy">McIlroy</A> of Bell Labs.  Art Evans made extensive modifications to it in May
						and June, 1969, adding many comments and making various changes.  Footnoting added by Dennis
						Capps in 1970.  Maintained by Harwell Thrasher in 1971.  Many new features added and bugs fixed
						by R Mabee in 1971-1972.  <SPAN CLASS="cmd">RUNOFF</SPAN> and BCPL were brought over to the 6180
						Multics (from 645) in May of 1973 by R F Mabee.
					</P>
				</BLOCKQUOTE>
				<P>
					The BCPL variant is at times referred to as <SPAN CLASS="cmd">runoff</SPAN>, at times as <SPAN
					CLASS="cmd">roff</SPAN>.  <A HREF="#saltzer">Saltzer</A> writes, <Q>my understanding was that Doug [<A
					HREF="#mcilroy">McIlroy</A>] did the conversion of <A HREF="#1964_RUNOFF">RUNOFF</A> from the CTSS
					extended character set to ASCII, using BCPL, under CTSS.  He chose to name the port <SPAN
					CLASS="cmd">roff</SPAN>, I think to distinguish the ASCII version from the CTSS extended character set
					version.</Q>  <A HREF="#mcilroy">McIlroy</A> writes similarly, <Q>I see that I called it <SPAN
					CLASS="cmd">runoff</SPAN> in 1969.  By 1971 it was <SPAN CLASS="cmd">roff</SPAN>.  Now I'm not so sure I
					got the name from <A HREF="#morris">Morris</A>.  Conceivably it came from <A
					HREF="#thompson">Thompson</A>, who was big on shortening names.  My 1971 description came in January;
					the first ediion Unix manual is dated December 1971.</Q> 
				</P>
				<DIV CLASS="sources">
					<P>
						Sources: 
					</P>
					<UL>
						<LI>
							<A CLASS="ref-link"
							HREF="http://web.mit.edu/multics-history/source/Multics/ldd/system_library_standard/source/bound_runoff_.s.archive">
							Runoff source listings</A>, hosted by the <A
							HREF="http://web.mit.edu/multics-history/source/Multics_Internet_Server/Multics.html">Multics
							Internet Server</A>.  A copy of the <A HREF="history/runoff.s.gz"><SPAN
							CLASS="cmd">runoff</SPAN> source file</A> is available locally under the file's license
							terms.
						</LI>
						<LI>
							Douglas McIlroy, <I><A HREF="history/mcilroy_21_10_2011.txt">UNIX manpage history:
							runoff</A></I>.  21 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
						<LI>
							Douglas McIlroy, <I><A HREF="history/mcilroy_22_10_2011.txt">UNIX manpage history:
							runoff</A></I>.  22 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
						<LI>
							Jerome Saltzer, <I><A HREF="history/saltzer_22_10_2011.txt">UNIX manpage history: CTSS
							RUNOFF</A></I>.  22 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
					</UL>
				</DIV>
			</DD>
			<DT ID="x1974_compose">
				1974: <SPAN CLASS="cmd">compose</SPAN> (<A HREF="#capps">Dennis Capps</A>)
			</DT>
			<DD>
				<P>
					The <SPAN CLASS="cmd">compose</SPAN> utility, which may have been born as <SPAN
					CLASS="cmd">runoff</SPAN> before being renamed, was ported to PL/I by <A HREF="#capps">Capps</A> for the
					Multics Honeywell 6180.  It was later tuned and improved by Ed Wallman.  Tom Van Vleck, Wallman's
					manager in mid-1978, recounts the porting effort <Q>to produce photo-typset manuals and eliminate
					dependence on BCPL</Q>.  (Note: the primary source erroneously refers to <A HREF="#ossanna">Ossanna</A>
					as writing the BCPL <SPAN CLASS="cmd">runoff</SPAN>; it was in fact <A HREF="#mcilroy">McIlroy</A>.)
				</P>
				<DIV CLASS="sources">
					<P>
						Sources: 
					</P>
					<UL>
						<LI>
							MTB-346, 1977-10-11, New runoff Revisited, Ed Wallman.  (Not available.)
						</LI>
						<LI>
							MTB-337, 1977-05-09, New runoff Implementation, Ed Wallman.  (Not available.)
						</LI>
						<LI>
							MTB-165, 1975-03-03, New Runoff, Dennis Capps.  (Not available.)
						</LI>
						<LI>
							Tom Van Vleck, <I><A HREF="history/vleck_22_10_2011.txt">Origin date of Wallman's
							COMPOSE</A></I>. 22 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
						<LI>
							<A CLASS="ref-link"
							HREF="http://web.mit.edu/multics-history/source/Multics/ldd/system_library_unbundled/source/bound_compose_.s.archive">
							Compose source listings</A>, hosted by the <A
							HREF="http://web.mit.edu/multics-history/source/Multics_Internet_Server/Multics.html">Multics
							Internet Server</A>.  A copy of the <A HREF="history/compose.s.gz"><SPAN
							CLASS="cmd">compose</SPAN> source file</A> is available locally under the file's license
							terms.
						</LI>
					</UL>
				</DIV>
			</DD>
		</DL>
		<H3 ID="classical">
			Classical Age
		</H3>
		<DL>
			<DT ID="x1969_roff">
				1969: <SPAN CLASS="cmd">roff</SPAN> (<A HREF="#kernighan">Brian Kernighan</A>)
				 
			</DT>
			<DD>
				<P>
					After being exposed to <A HREF="#mcilroy">McIlroy</A>'s <A HREF="#x1969">runoff</A> and <A
					HREF="#saltzer">Saltzer</A>'s <A HREF="#x1964_RUNOFF">RUNOFF</A>, <A HREF="#kernighan">Kernighan</A>
					wrote a port in Fortran while working on his doctoral thesis at Princeton (to format the thesis).  By
					his account, the system was used for five more years by the student agency.  The punch-card source has
					long since been lost.  (XXX: what architecture/system was this?)
				</P>
				<DIV CLASS="sources">
					<P>
						Sources: 
					</P>
					<UL>
						<LI>
							Brian Kernighan, <I><A HREF="history/kernighan_23_10_2011.txt">Reconstructing UNIX
							manpage history: ditroff(1)</A></I>.  23 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
					</UL>
				</DIV>
			</DD>
			<DT ID="x1970_rf">
				1970: <SPAN CLASS="cmd">rf</SPAN> (<A HREF="#thompson">Ken Thompson</A>)
				 
			</DT>
			<DD>
				<P>
					<A HREF="#thompson">Thompson</A> wrote a PDP-7 port of either the BCPL <A CLASS="cmd"
					HREF="#x1969">runoff</A> or directly from the CTSS <A CLASS="cmd" HREF="#x1964_RUNOFF">RUNOFF</A>.  This
					fork was an evolutionary dead-end, replaced by the PDP-11 <A CLASS="cmd" HREF="#x1971">roff(1)</A> which
					was written at around the same time.  The source code for this port has long since been lost.
				</P>
				<DIV CLASS="sources">
					<P>
						Sources: 
					</P>
					<UL>
						<LI>
							Ken Thompson, <I><A HREF="history/thompson_23_10_2011.txt">UNIX manpages &amp; questions
							regarding roff(1) history</A></I>.  23 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
					</UL>
				</DIV>
			</DD>
			<DT ID="x1971">
				1971: <SPAN CLASS="cmd">roff(1)</SPAN> (<A HREF="#ritchie">Dennis Ritchie</A>)
				 
			</DT>
			<DD>
				<P>
					Most of the programming team for Multics continued working with UNIX, so it's no surprise that Multics
					<SPAN CLASS="cmd">runoff</SPAN> was incorporated as UNIX <SPAN CLASS="cmd">roff(1)</SPAN> in Version 1
					AT&amp;T UNIX, 1971.  This was a PDP-11/20 port of BCPL <A CLASS="cmd" HREF="#x1969_runoff">runoff</A>.
					According to <A HREF="#thompson">Thompson</A>, <SPAN CLASS="cmd">roff(1)</SPAN> for formatting patent
					applications was used as a justification for the PDP-11 purchase.
				</P>
				<P>
					There are many wildly differing accounts of who wrote this version, but most settle on <A
					HREF="#ossanna">Ossanna</A>, <A HREF="#ritchie">Ritchie</A>, and <A HREF="#thompson">Thompson</A>.
					However, the first-hand accounts of <A HREF="#mcilroy">McIlroy</A>, <A HREF="#kernighan">Kernighan</A>,
					and Thompson settle on Ritchie as the primary author.  This is corroborated by Ritchie's expertise in
					BCPL, as <SPAN CLASS="cmd">roff(1)</SPAN> was based upon McIlroy's BCPL <A
					HREF="#x1969_runoff">runoff</A>.
				</P>
				<P>
					Unfortunately, the first <SPAN CLASS="cmd">roff(1)</SPAN> version is lost.  Some sources from Version 1
					AT&amp;T UNIX have been reconstructed from old tapes, but <SPAN CLASS="cmd">roff(1)</SPAN> was not among
					them.  All that remains from this time are manual entries and first-hand acconts.  However, the
					PDP-11/20 source for Version 5 AT&amp;T UNIX still exists, and by first-hand accounts, is a modified
					form of the original.
				</P>
				<DIV CLASS="sources">
					<P>
						Sources: 
					</P>
					<UL>
						<LI>
							Joseph F. Ossanna, Dennis Ritchie, and Ken Thompson, <I><A
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V1/man/man1/roff.1">roff</A></I>,
							<I>UNIX Programmer's Manual</I>, First Edition, Section 1.  November, 1971.
						</LI>
						<LI>
							<A 
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V5/usr/source/s7">Version 5 AT&amp;T
							source listings</A>, hosted by the <A HREF="http://www.tuhs.org">UNIX Heritage
							Society</A>.
						</LI>
						<LI>
							Douglas McIlroy, <I><A HREF="history/mcilroy_21_10_2011.txt">UNIX manpage history:
							runoff</A></I>.  21 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
						<LI>
							Douglas McIlroy, <I><A HREF="history/mcilroy_22_10_2011.txt">UNIX manpage history:
							runoff</A></I>.  22 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
						<LI>
							Jerome Saltzer, <I><A HREF="history/saltzer_22_10_2011.txt">UNIX manpage history: CTSS
							RUNOFF</A></I>.  22 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
						<LI>
							Brian Kernighan, <I><A HREF="history/kernighan_23_10_2011.txt">Reconstructing UNIX
							manpage history: ditroff(1)</A></I>.  23 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
						<LI>
							Ken Thompson, <I><A HREF="history/thompson_23_10_2011.txt">UNIX manpages & questions
							regarding roff(1) history</A></I>.  23 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
					</UL>
				</DIV>
			</DD>
			<DT ID="x1972">
				1972: <SPAN CLASS="cmd">nroff(1)</SPAN> (<A HREF="#ossanna">Joseph F. Ossanna</A>)
			</DT>
			<DD>
				<P>
					<A HREF="#ossanna">Ossanna</A> took over the PDP-11 <A CLASS="cmd" HREF="#x1971">roff(1)</A> and built
					<SPAN CLASS="cmd">nroff(1)</SPAN>, which focussed on outputting text onto terminals, for Version 2
					AT&amp;T UNIX.  The exact motiviations for this are unknown, but are vaguely agreed as simply evolving
					the utility.
				</P>
				<P>
					Unfortunately, a source record of the original effort is entirely lost; however, later versions of the
					PDP-11/20 source (for Version 6 AT&amp;T UNIX) and manual page (Version 3 AT&amp;T UNIX)  are available. 
				</P>
				<P>
					<A HREF="#thompson">Thompson</A> mentions that <SPAN CLASS="cmd">nroff(1)</SPAN> introduced the notion
					of programmable macros.  This is corroborated by the Version 6 AT&amp;T UNIX source for <SPAN
					CLASS="cmd">nroff(1)</SPAN>, where files under the prefix <SPAN CLASS="file">/usr/lib/tmac.</SPAN> are
					parsed for macros (see <SPAN CLASS="file">nroff.8</SPAN> in the Version 6 AT&amp;T archive).  This same
					behaviour is not reproduced in the <A HREF="#x1971">roff(1)</A> sources from the same time, so it
					makes sense that this is the first appearance of macros.
				</P>
				<DIV CLASS="sources">
					<P>
						Sources: 
					</P>
					<UL>
						<LI>
							Joseph F. Ossanna, Dennis Ritchie, and Ken Thompson, <I><A
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V1/man/man1/roff.1">roff</A></I>,
							<I>UNIX Programmer's Manual</I>, First Edition, Section 1.  November, 1971.
						</LI>
						<LI>
							Douglas McIlroy, <I><A HREF="history/mcilroy_21_10_2011.txt">UNIX manpage history:
							runoff</A></I>.  21 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
						<LI>
							Ken Thompson, <I><A HREF="history/thompson_23_10_2011.txt">UNIX manpages &amp; questions
							regarding roff(1) history.</A></I>.  23 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
						<LI>
							<I><A
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V3/man/man1/nroff.1">nroff</A></I>,
							<I>UNIX Programmer's Manual</I>, Third Edition, Section 1.  15 January, 1973.
						</LI>
						<LI>
							<A 
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V6/usr/source/s7">Version 6 AT&amp;T
							source listings</A>, hosted by the <A HREF="http://www.tuhs.org">UNIX Heritage
							Society</A>.
						</LI>
					</UL>
				</DIV>
			</DD>
			<DT ID="x1973">
				1973: <SPAN CLASS="cmd">troff(1)</SPAN> (<A HREF="#ossanna">Joseph F. Ossanna</A>)
			</DT>
			<DD>
				<P>
					<A HREF="#ossanna">Ossanna</A> started writing <SPAN CLASS="cmd">troff(1)</SPAN> from his PDP-11/20 <A
					CLASS="cmd" HREF="#x1972">nroff(1)</A> sources for Version 4 AT&amp;T UNIX.  It's widely asserted that
					the driving motivation was to create output for the CAT phototypsetter.  Unlike his earlier <A
					CLASS="cmd" HREF="#x1972">nroff(1)</A> work, <SPAN CLASS="cmd">troff</SPAN> was written entirely in the
					C language.  Unfortunately, Ossanna died (in late 1977) before completing this work.  
				</P>
				<P>
					Original sources for this version of AT&amp;T UNIX are also lost; however, the manual still exists, and
					records of the PDP-11 source exist in raw tape data for Version 6 AT&amp;T UNIX (which apparently
					couldn't be reconstructed).
				</P>
				<DIV CLASS="sources">
					<P>
						Sources: 
					</P>
					<UL>
						<LI>
							Brian Kernighan, <I><A HREF="history/kernighan_23_10_2011.txt">Reconstructing UNIX
							manpage history: ditroff(1)</A></I>.  23 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
						<LI>
							<I><A
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V4/man/man1/troff.1">troff</A></I>,
							<I>UNIX Programmer's Manual</I>, Fourth Edition, Section 1.  6 November, 1973.
						</LI>
						<LI>
							Ken Wellsch's <A
							HREF="http://minnie.tuhs.org/Archive/PDP-11/Distributions/research/Ken_Wellsch_v6/">Version
							6 AT&amp;T UNIX tape archive</A>, hosted by the <A HREF="http://www.tuhs.org">UNIX
							Heritage Society</A>.
						</LI>
						<LI>
							<A 
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V6/usr/source/s7">Version 6 AT&amp;T
							source listings</A>, hosted by the <A HREF="http://www.tuhs.org">UNIX Heritage
							Society</A>.
						</LI>
						<LI>
							Douglas McIlroy, <I><A HREF="history/mcilroy_21_10_2011.txt">UNIX manpage history:
							runoff</A></I>.  21 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
					</UL>
				</DIV>
			</DD>
			<DT ID="x1979">
				1979: <SPAN CLASS="cmd">ditroff(1)</SPAN> (<A HREF="#ossanna">Joseph F. Ossanna</A>, <A HREF="#kernighan">Brian Kernighan</A>)
			</DT>
			<DD>
				<P>
					The <A CLASS="cmd" HREF="#x1973">troff(1)</A> sources were untouched for nearly two years until resumed
					by <A HREF="#kernighan">Kernighan</A>:
				</P>
				<BLOCKQUOTE CITE="history/kernighan_23_10_2011.txt">
					<P>
						After Joe <A HREF="#ossanna">Ossanna</A> died in late 1977, <A CLASS="cmd"
						HREF="#x1973">troff</A> was static for probably close to two years, since no one had the time
						and courage to touch it.  It was entirely in C at that point, somewhat over 9000 lines as I
						remember.  I simply modified it, gradually getting around some of the limitations on fonts,
						making use of dynamic memory, and generating "device-independent" output for devices whose
						properties were specified in dynamically loaded files.
					</P>
				</BLOCKQUOTE>
				<P>
					The result is the first intact UNIX <SPAN CLASS="cmd">troff(1)</SPAN> source.  By Version 7 AT&amp;T
					UNIX, both <SPAN CLASS="cmd">nroff(1)</SPAN> and <SPAN CLASS="cmd">troff(1)</SPAN> are built from the
					same C sources, separated by preprocessor conditionals, while <SPAN CLASS="cmd">roff(1)</SPAN> was still
					built in its PDP-11/20 assembly.  The <SPAN CLASS="cmd">ditroff(1)</SPAN> name origin is unknown.  <A
					HREF="#kernighan">Kernighan</A> writes, <Q CITE="history/kernighan_23_10_2011.txt">I'm pretty sure that
					I only talked about a "device independent troff"; the name "ditroff" came from somewhere else, and I've
					never been fond of it.</Q>
				</P>
				<P>
					The UNIX/32V port of Version 7 AT&amp;T UNIX to the VAX architecture also contains the new <SPAN
					CLASS="cmd">troff(1)</SPAN> sources.  The inclusion of <SPAN CLASS="cmd">troff(1)</SPAN> in ported
					systems quickly became the norm; most modern <SPAN CLASS="cmd">troff(1)</SPAN> and <SPAN
					CLASS="cmd">nroff(1)</SPAN> systems descend from this utility.
				</P>
				<DIV CLASS="sources">
					<P>
						Sources: 
					</P>
					<UL>
						<LI>
							<A 
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=32V/usr/src/cmd/troff">UNIX/32V
							AT&amp;T source listings</A>, hosted by the <A HREF="http://www.tuhs.org">UNIX Heritage
							Society</A>.
						</LI>
						<LI>
							<A 
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V7/usr/src/cmd/troff">Version 7
							AT&amp;T source listings</A>, hosted by the <A HREF="http://www.tuhs.org">UNIX Heritage
							Society</A>.
						</LI>
						<LI>
							Brian Kernighan, <I><A HREF="history/kernighan_23_10_2011.txt">Reconstructing UNIX
							manpage history: ditroff(1)</A></I>.  23 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
						<LI>
							<I><A
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V7/usr/man/man1/troff.1">troff</A></I>,
							<I>UNIX Programmer's Manual</I>, Seventh Edition, Section 1.  11 January, 1979.
						</LI>
					</UL>
				</DIV>
			</DD>
		</DL>
		<H3 ID="renaissance">
			Renaissance
		</H3>
		<P>
			This covers re-implementations of the classic <SPAN CLASS="cmd">roff(1)</SPAN>, <SPAN CLASS="cmd">troff(1)</SPAN>, and
			<SPAN CLASS="cmd">nroff(1)</SPAN> utilities.  At the time, the UNIX <SPAN CLASS="cmd">dittroff(1)</SPAN> utilities were
			licensed by AT&amp;T Bell Laboratories and not free.  With the significant popularity of UNIX clones, several projects
			sprang up to reimplement <SPAN CLASS="cmd">ditroff(1)</SPAN> without the license restrictions.
		</P>
		<DL>
			<DT ID="x1989_groff">
				1989: groff (<A HREF="#clarke">James Clarke</A>)
			</DT>
			<DD>
				<P>
					...
				</P>
			</DD>
			<DT ID="x1991_awf">
				1991: awf (<A HREF="#spencer">Henry Spencer</A>)
			</DT>
			<DD>
				<P>
					In 1991, <A HREF="#spencer">Spencer</A> sent a terse mail to USENET comp.sources.unix indicating that
					he'd written an interpreter in the AWK language for the <I>man</I> and <I>ms</I> macro packages
					documented in Version 7 AT&amp;T UNIX <A CLASS="cmd" HREF="#x1972">nroff(1)</A> and <A CLASS="cmd"
					HREF="#x1979">ditroff(1)</A>.
				</P>
				<BLOCKQUOTE CITE="http://doc.cat-v.org/henry_spencer/awf/">
					<P>
						This is awf, the Amazingly Workable Formatter &ndash; a "nroff -man" or (subset) "nroff -ms"
						clone written entirely in (old) awk.
					</P>
				</BLOCKQUOTE>

				<P>
					According to <A HREF="#spencer">Spencer</A>, <SPAN CLASS="cmd">awf</SPAN> was necessary for the
					portability of C News, a USENET news server written by Spencer and Geoff Collyer in 1987.  The project
					wished to distribute manpage sources, but since <A CLASS="cmd" HREF="#x1979">ditroff(1)</A> sources were
					still license-encumbered, needed to guarantee portability to un-licensed UNIX systems.
				</P>
				<DIV CLASS="sources">
					<P>
						Sources: 
					</P>
					<UL>
						<LI>
							<A HREF="http://doc.cat-v.org/henry_spencer/awf/">Usenet comp.sources.unix message</A>,
							hosted by the <A HREF="http://doc.cat-v.org/">Cat-v Document Archive</A>.
						</LI>
						<LI>
							<A HREF="ftp://ftp.isc.org/usenet/comp.sources.unix/volume23/">Usenet comp.sources.unix
							volume 23 sources</A>, hosted by the <A HREF="ftp://ftp.isc.org/">ISC Usenet newsgroup
							archives</A>. 
						</LI>
						<LI>
							<A HREF="ftp://ftp.cs.toronto.edu/pub/c-news/c-news.tar.Z">C News source listings</A>,
							hosted by the University of Toronto <A HREF="http://web.cs.toronto.edu/">Computer
							Science Department</A>.
						</LI>
						<LI>
							Henry Spencer, <I><A HREF="history/spencer_22_10_2011.txt">UNIX manpage history:
							awf</A></I>.  22 October, 2011.  Email to Kristaps Dzonsons.
						</LI>
					</UL>
				</DIV>
			</DD>
			<DT ID="x1991_cawf">
				1991: cawf (<A HREF="#abell">Vic Abell</A>)
			</DT>
			<DD>
				<P>
					...
				</P>
			</DD>
			<DT ID="x2005_troff">
				2005: troff (<A HREF="#ritter">Gunnar Ritter</A>)
			</DT>
			<DD>
				<P>
					...
				</P>
			</DD>
		</DL>
		<H3 ID="nextgen">
			Next Generation
		</H3>
		<DL>
			<DT ID="x2008_mandoc">
				2008: mandoc (<A HREF="#dzonsons">Kristaps Dzonsons</A>)
			</DT>
			<DD>
				<P>
					<B>Disclaimer</B>: I wrote <SPAN CLASS="cmd">mandoc(1)</SPAN>.
				</P>
				<P>
					Like <A CLASS="cmd" HREF="#x1991_awf">awf</A>, <SPAN CLASS="cmd">mandoc(1)</SPAN> primarily reads <A
					CLASS="cmd" HREF="#x1979">ditroff(1)</A> macro files (not general <A CLASS="cmd"
					HREF="#x1979">ditroff(1)</A> input), although it has some capability for generalised input.  It is the
					first fully semantic parser for manpages, exposing the annotated content of parsed documents.   I used
					the <A CLASS="cmd" HREF="#x1991_groff">groff(1)</A> manuals as a basis for processing.
				</P>
				<DIV CLASS="sources">
					<P>
						Sources: 
					</P>
					<UL>
						<LI>
							<A HREF="http://mdocml.bsd.lv/cgi-bin/cvsweb/?cvsroot=mdocml">CVS source archive</A>,
							hosted by the <A HREF="http://bsd.lv/">BSD.lv Project</A>.
						</LI>
					</UL>
				</DIV>
			</DD>
		</DL>
		<DIV ID="people">
			<H2>
				People
			</H2>
			<DL>
				<DT ID="abell">Abell, Vic</DT>
				<DD>
					<P>
						...
					</P>
				</DD>
				<DT ID="capps">Capps, Dennis</DT>
				<DD>
					<P>
						...
					</P>
				</DD>
				<DT ID="clarke">Clarke, James</DT>
				<DD>
					<P>
						Homepage: <A HREF="http://www.jclark.com/">www.jclark.com</A>.
					</P>
				</DD>
				<DT ID="dzonsons">Dzonsons, Kristaps</DT>
				<DD>
					<P>
						I wrote <A CLASS="cmd" HREF="#x2008_mandoc">mandoc(1)</A> using <A CLASS="cmd"
						HREF="#x1991_groff">groff(1)</A> manuals as a reference.
						Homepage: <A HREF="http://kristaps.bsd.lv/">kristaps.bsd.lv</A>.
					</P>
				</DD>
				<DT ID="kernighan">Kernighan, Brian</DT>
				<DD>
					<P>
						Homepage: <A HREF="http://www.cs.bell-labs.com/who/bwk/index.html">www.cs.bell-labs.com/who/bwk/</A>.
					</P>
				</DD>
				<DT ID="madnick">Madnick, Stuart</DT>
				<DD>
					<P>
						While at Honeywell, ported <A CLASS="cmd" HREF="#x1964_RUNOFF">RUNOFF</A> to the CP67/CMS and
						renamed it <A CLASS="cmd" HREF="#x1967_SCRIPT">SCRIPT</A>.
					</P>
				</DD>
				<DT ID="mcilroy">McIlroy, Douglas</DT>
				<DD>
					<P>
						Ported <A CLASS="cmd" HREF="#x1964_RUNOFF">RUNOFF</A> to Multics while at Bell Telephone Labs.  Homepage:
						<A HREF="http://www.cs.dartmouth.edu/~doug/">www.cs.dartmouth.edu/~doug</A>.
					</P>
				</DD>
				<DT ID="morris">Morris, Robert</DT>
				<DD>
					<P>
						Ported <A HREF="#x1964_RUNOFF" CLASS="cmd">RUNOFF</A> to a pre-Multics GE-635.
					</P>
				</DD>
				<DT ID="ossanna">Ossanna, Joseph F.</DT>
				<DD>
					<P>
						Worked on the PDP-11/20 assembly-language <A HREF="#x1971" CLASS="cmd">roff(1)</A>, <A
						HREF="#x1972" CLASS="cmd">nroff(1)</A>, and <A HREF="#x1973" CLASS="cmd">troff(1)</A> for
						Versions 1, 3, and 4 AT&amp;T UNIX while working at Bell Telephone Labs. 
					</P>
				</DD>
				<DT ID="ritchie">Ritchie, Dennis</DT>
				<DD>
					<P>
						Homepage: <A HREF="http://cm.bell-labs.com/who/dmr/">cm.bell-labs.com/who/dmr</A>.
					</P>
				</DD>
				<DT ID="ritter">Ritter, Gunnar</DT>
				<DD>
					<P>
						...
					</P>
				</DD>
				<DT ID="saltzer">Saltzer, Jerome H.</DT>
				<DD>
					<P>
						Author of <A CLASS="cmd" HREF="#x1964_RUNOFF">RUNOFF</A> while working in MIT's CTSS project.
						Homepage: <A HREF="http://mit.edu/saltzer/">mit.edu/saltzer</A>.
					</P>
				</DD>
				<DT ID="spencer">Spencer, Henry</DT>
				<DD>
					<P>
						Wrote an AWK language formatter for the <I>man</I> and <I>ms</I> macro sets from <A CLASS="cmd"
						HREF="#x1979">ditroff(1)</A> resources.
					</P>
				</DD>
				<DT ID="thompson">Thompson, Ken</DT>
				<DD>
					<P>
						Homepage: <A HREF="http://cm.bell-labs.com/who/ken/">cm.bell-labs.com/who/ken</A>.
					</P>
				</DD>
			</DL>
		</DIV>
		<DIV ID="copyright">
			<H2>
				Copyright
			</H2>
			<P>
				The content of this page are available under Creative Commons' <A CLASS="external"
				HREF="http://creativecommons.org/licenses/by-sa/3.0/">Attribution Share-Alike</A>: deriving works must attribute the
				author(s) and use a similar license.  However, cited communications are copyright the sender, and not covered by this
				license.  A list of these follows:
			</P>
			<UL>
				<LI><A HREF="history/kernighan_23_10_2011.txt">history/kernighan_23_10_2011.txt</A></LI>
				<LI><A HREF="history/mcilroy_21_10_2011.txt">history/mcilroy_21_10_2011.txt</A></LI>
				<LI><A HREF="history/mcilroy_22_10_2011.txt">history/mcilroy_22_10_2011.txt</A></LI>
				<LI><A HREF="history/mcilroy_23_10_2011.txt">history/mcilroy_23_10_2011.txt</A></LI>
				<LI><A HREF="history/saltzer_22_10_2011.txt">history/saltzer_22_10_2011.txt</A></LI>
				<LI><A HREF="history/saltzer_23_10_2011.txt">history/saltzer_23_10_2011.txt</A></LI>
				<LI><A HREF="history/spencer_22_10_2011.txt">history/spencer_22_10_2011.txt</A></LI>
				<LI><A HREF="history/thompson_23_10_2011.txt">history/thompson_23_10_2011.txt</A></LI>
				<LI><A HREF="history/vleck_22_10_2011.txt">history/vleck_22_10_2011.txt</A></LI>
			</UL>
		</DIV>
		<TABLE CLASS="nav">
			<TBODY>
				<TR>
					<TD CLASS="nav-home"><A HREF="http://manpages.bsd.lv/index.html">Home</A></TD>
					<TD CLASS="nav-next" STYLE="color: #dddddd;">Next</TD>
					<TD CLASS="nav-history"><A href="http://manpages.bsd.lv/cgi-bin/cvsweb/history.sgml?cvsroot=manpages">History</A></TD>
				</TR>
			</TBODY>
		</TABLE>
		<P CLASS="edits">
			Last edited by $Author$ on $Date$.  Copyright &copy; 2011, Kristaps Dzonsons.  CC BY-SA.
		</p>
		<DIV>
			<MAP ID="manpages" NAME="manpages">
				<area shape="rect" href="#x1964_RUNOFF" title="RUNOFF" alt="" coords="4,116,64,144">
			</MAP>
		</DIV>
	</BODY>
</HTML>
