<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
	<HEAD>
		<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
		<TITLE>History of UNIX Manpages</TITLE>
		<STYLE TYPE="text/css">
			body { font-family: serif; line-height: 14pt; font-size: 10pt; padding-left: 2%; }
			#timeline-img { float: right; margin-left: 2em; }
			dd { margin-bottom: 2em; }
			.cmd { font-style: italic; }
			p.sources-primary, p.sources-secondary { margin-bottom: 0.25em; }
			.ref-book { font-style: italic; }
			.ref-title { font-style: italic; }
			p.foot { margin-top: 1em; color: #666666; font-size: smaller; }
			h1 { margin-left: -1.5%; font-size: inherit; }
			h2 { margin-left: -0.75%; font-size: inherit; }
		</STYLE>
	</HEAD>
	<BODY>
		<H1>
			History of UNIX Manpages
		</H1>
		<P>
			This is a history of the utilities and formats relevant to the UNIX manpage.
			I begin with <A HREF="#prehistory">prehistory</A>, from the time before UNIX, then continue with the <A
			HREF="#classical">Classical Age</A> establishing the conventions that persist to the present day.
			I then consider the <A HREF="#renaissance">Renaissance</A>, when earlier utilities were re-written (for various
			reasons), and finally the <A HREF="#nextgen">Next Generation</A> of specialised utilities.
		</P>
		<P ID="timeline-img">
			<IMG SRC="apps.png" ALT="Timeline of UNIX manpage utilities">
		</P>
		<H2 ID="prehistory">
			Prehistory: 1964&ndash;1970
		</H2>
		<DL>
			<DT>
				1964: <SPAN CLASS="cmd">RUNOFF</SPAN> (<A HREF="http://mit.edu/saltzer/">Jerome H. Saltzer</A>)
			</DT>
			<DD>
				<P>
					Jerome H. Saltzer wrote the <SPAN CLASS="cmd">RUNOFF</SPAN> utility for MIT's CTSS operating system in
					the MAD computer language.  Its legacy is considerable: at the very least, <SPAN
					CLASS="cmd">RUNOFF</SPAN> introduced the familiar line-based, dot-preceeded syntax used in modern UNIX
					manpages.  
				</P>
				<BLOCKQUOTE CITE="http://web.mit.edu/Saltzer/www/publications/ctss/AH.9.01.pdf">
					<P>
						Input generally consists of English text, 36O or fewer characters to a line. Control words must
						begin a new line, and they begin with a period so that they may be distinguished from other
						text. RUNOFF does not print the control words.
					</P>
				</BLOCKQUOTE>
				<P>
					In fact, several of the abbreviated <SPAN CLASS="cmd">RUNOFF</SPAN> control words are still common in
					today's manpages, such as <CODE>sp</CODE> and <CODE>br</CODE>.
				</P>
				<P>
					The primary source for this is the <SPAN CLASS="cmd">RUNOFF</SPAN> source itself, found in the <SPAN
					CLASS="file">com5</SPAN> file in the source directory (invocation at line 19782, text processing from
					line 20014).  Secondary sources are memoranda relating to the input format, which may also be deduced
					from the text processing section of the source.
				</P>
				<DIV CLASS="sources">
					<P CLASS="sources-primary">
						Primary sources: 
					</P>
					<UL CLASS="sources-primary">
						<LI>
							<A CLASS="ref-link" HREF="http://www.piercefuller.com/library/ctss.html">CTSS source
							listings</A>, hosted by <A HREF="http://www.piercefuller.com/">Paul Pierce</A>.
							
						</LI>
					</UL>
					<P CLASS="sources-secondary">
						Secondary sources:
					</P>
					<UL CLASS="sources-secondary">
						<LI>
							<SPAN CLASS="ref-editor">Patricia Crisman</SPAN>,
							<SPAN CLASS="ref-author">Jerome H. Saltzer</SPAN>,
							<A CLASS="ref-title ref-link"
							HREF="http://web.mit.edu/Saltzer/www/publications/ctss/AH.9.01.pdf">Manuscript Typing
							and Editing</A>,
							<SPAN CLASS="ref-book">The Compatible Time-Sharing System, A Programmers Guide</SPAN>,
							<SPAN CLASS="ref-sec">AH.9.01</SPAN>,
							<SPAN CLASS="ref-edition">2</SPAN>,
							<SPAN CLASS="ref-publisher">M.I.T. Press</SPAN>,
							<SPAN CLASS="ref-date">1965</SPAN>,
							<SPAN CLASS="ref-revised">December 1966</SPAN>.
						</LI>
						<LI>
							<SPAN CLASS="ref-author">Jerome H. Saltzer</SPAN>,
							<A CLASS="ref-title ref-link"
							HREF="http://mit.edu/saltzer/www/publications/ctss/ctss/CC-244.pdf">TYPSET and RUNOFF,
							memorandum editor and type-out commands</A>,
							<SPAN CLASS="ref-book">M.I.T. Computation Center Memorandum</SPAN>,
							<SPAN CLASS="ref-sec">CC-244</SPAN>,
							<SPAN CLASS="ref-date">6 November, 1964</SPAN>.
						</LI>
					</UL>
				</DIV>
			</DD>
			<DT>
				1969: <SPAN CLASS="cmd">runoff</SPAN> (<A HREF="http://www.cs.dartmouth.edu/~doug/">Douglas McIlroy</A>)
			</DT>
			<DD>
				<P>
					In 1969, Douglas McIlroy released a version of <SPAN CLASS="cmd">runoff</SPAN> for the Multics operating
					system on the GE-645 computer.  (The link between Saltzer and McIlroy is not yet known.)  This was later
					ported to the Honeywell 6180 by R. F. Mabee.  Accepting Multics as the predecessor to UNIX, it follows
					that <SPAN CLASS="cmd">runoff</SPAN> was the proper predecessor to <SPAN CLASS="cmd">roff(1)</SPAN>.
				</P>
				<DIV CLASS="sources">
					<P CLASS="sources-primary">
						Primary sources: 
					</P>
					<UL CLASS="sources-primary">
						<LI>
							<A CLASS="ref-link"
							HREF="http://web.mit.edu/multics-history/source/Multics/ldd/system_library_standard/source/bound_runoff_.s.archive">
							Multics source listings</A>, hosted by the <A
							HREF="http://web.mit.edu/multics-history/source/Multics_Internet_Server/Multics.html">Multics
							Internet Server</A>.
						</LI>
					</UL>
					<P CLASS="sources-secondary">
						Secondary sources:
					</P>
					<UL CLASS="sources-secondary">
						<LI>
							<A CLASS="ref-title ref-link" HREF="http://www.multicians.org/unix.html">Unix and
							Multics</A>,
							<SPAN CLASS="ref-author">Tom Van Vleck</SPAN>,
							<SPAN CLASS="ref-date">21 March, 1993</SPAN>,
							<SPAN CLASS="ref-revised">5 February, 1995</SPAN>.
						</LI>
					</UL>
				</DIV>
			</DD>
		</DL>
		<H2 ID="classical">
			Classical Age: 1971&ndash;1988
		</H2>
		<DL>
			<DT>
				1971: <SPAN CLASS="cmd">roff(1)</SPAN> (Joseph F. Ossanna)
			</DT>
			<DD>
				<P>
					Very little information can be found beyond the manual.  Written in PDP-11/20 assembly (I guess?) for
					Version 1 AT&amp;T UNIX.  <A HREF="http://cm.bell-labs.com/who/dmr/">Dennis Ritchie</A> and <A
					HREF="http://cm.bell-labs.com/who/ken/">Ken Thompson</A> are listed in the manpage as authors.  Did they
					co-write?
				</P>
				<DIV CLASS="sources">
					<P CLASS="sources-primary">
						Primary sources: 
					</P>
					<UL CLASS="sources-primary">
						<LI>
							<I>No source code found</I>.
						</LI>
					</UL>
					<P CLASS="sources-secondary">
						Secondary sources:
					</P>
					<UL CLASS="sources-secondary">
						<LI>
							<SPAN CLASS="ref-author">Joseph F. Ossanna</SPAN>,
							<SPAN CLASS="ref-title">roff(1)</SPAN>,
							<SPAN CLASS="ref-book">UNIX Programmer's Manual</SPAN>,
							<SPAN CLASS="ref-edition">1</SPAN>,
							<SPAN CLASS="ref-date">3 November, 1971</SPAN>,
							<A CLASS="ref-link" HREF="http://cm.bell-labs.com/who/dmr/1stEdman.html">HTML</A>.
						</LI>
					</UL>
				</DIV>
			</DD>
			<DT>
				1973: <SPAN CLASS="cmd">nroff(1)</SPAN>, <SPAN CLASS="cmd">roff(1)</SPAN>, and <SPAN CLASS="cmd">troff(1)</SPAN>
				(Joseph F. Ossanna)
			</DT>
			<DD>
				<P>
					Source manuals (no actual source exists before Version 5 AT&amp;T UNIX) indicate a split between
					<SPAN CLASS="cmd">roff(1)</SPAN> into <SPAN CLASS="cmd">nroff(1)</SPAN> for Version 3
					AT&amp;T UNIX, then also into <SPAN CLASS="cmd">troff(1)</SPAN> for Version 4 AT&amp;T UNIX.
				</P>
				<P>
					There exist PDP-11/20 assembly sources for <SPAN CLASS="cmd">roff(1)</SPAN> and <SPAN
					CLASS="cmd">nroff(1)</SPAN> starting in Version 5 AT&amp;T UNIX sources (dated 27 November, 1974) and
					Version 6 AT&amp;T UNIX sources (July, 1975).  Note that the Version 6 AT&amp;T UNIX <SPAN
					CLASS="cmd">neqn(1)</SPAN> sources were, however, written in C.  I can't find any sources for <SPAN
					CLASS="cmd">troff(1)</SPAN> this early, although obviously it was installed since Version 4 AT&amp;T
					UNIX.
				</P>
				<DIV CLASS="sources">
					<P CLASS="sources-primary">
						Primary sources: 
					</P>
					<UL CLASS="sources-primary">
						<LI>
							Version 5 AT&amp;T UNIX <SPAN CLASS="cmd">roff(1)</SPAN> source:
							<A CLASS="ref-link" HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V5/usr/source/s7">/usr/source/s7</A>.
						</LI>
						<LI>
							Version 6 AT&amp;T UNIX <SPAN CLASS="cmd">roff(1)</SPAN> and <SPAN CLASS="cmd">nroff(1)</SPAN> source:
							<A CLASS="ref-link" HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V6/usr/source/s7">/usr/source/s7</A>.
						</LI>
					</UL>
					<P CLASS="sources-secondary">
						Secondary sources:
					</P>
					<UL CLASS="sources-secondary">
						<LI>
							<SPAN CLASS="ref-title">nroff(1)</SPAN>,
							<SPAN CLASS="ref-book">UNIX Programmer's Manual</SPAN>,
							<SPAN CLASS="ref-edition">3</SPAN>,
							<SPAN CLASS="ref-date">15 January, 1973</SPAN>,
							<A CLASS="ref-link" HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V3/man/man1/nroff.1">ROFF</A>.
						</LI>
						<LI>
							<SPAN CLASS="ref-title">roff(1)</SPAN>,
							<SPAN CLASS="ref-book">UNIX Programmer's Manual</SPAN>,
							<SPAN CLASS="ref-edition">3</SPAN>,
							<SPAN CLASS="ref-date">6 December, 1972</SPAN>,
							<A CLASS="ref-link" HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V3/man/man1/roff.1">ROFF</A>.
						</LI>
						<LI>
							<SPAN CLASS="ref-title">troff(1)</SPAN>,
							<SPAN CLASS="ref-book">UNIX Programmer's Manual</SPAN>,
							<SPAN CLASS="ref-edition">4</SPAN>,
							<SPAN CLASS="ref-date">15 January, 1973</SPAN>,
							<A CLASS="ref-link" HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V4/man/man1/troff.1">ROFF</A>.
						</LI>
					</UL>
				</DIV>
			</DD>
			<DT>
				1979: <SPAN CLASS="cmd">ditroff(1)</SPAN> (Joseph F. Ossanna, <A HREF="http://www.cs.bell-labs.com/who/bwk/index.html">Brian Kernighan</A>)
			</DT>
			<DD>
				<P>
					In the sources, <SPAN CLASS="cmd">ditroff(1)</SPAN> doesn't appeared to be named as such (when was it
					termed as such?); however, both <SPAN CLASS="cmd">nroff(1)</SPAN> and <SPAN CLASS="cmd">troff(1)</SPAN>
					are built from the same C sources (note that <SPAN CLASS="cmd">roff(1)</SPAN> is still built in its
					PDP-11/20 assembly in the Version 7 AT&amp;T UNIX sources.
				</P>
				<P>
					The UNIX/32V port of Version 7 AT&amp;T UNIX to the VAX architecture also contains the <SPAN
					CLASS="cmd">troff(1)</SPAN> sources (of course in C).
				</P>
				<DIV CLASS="sources">
					<P CLASS="sources-primary">
						Primary sources: 
					</P>
					<UL CLASS="sources-primary">
						<LI>
							Version 7 AT&amp;T UNIX <SPAN CLASS="cmd">nroff(1)</SPAN> and <SPAN
							CLASS="cmd">troff(1)</SPAN> source: <A CLASS="ref-link"
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=V7/usr/src/cmd/troff">/usr/src/cmd/troff</A>.
						</LI>
						<LI>
							UNIX/32V <SPAN CLASS="cmd">nroff(1)</SPAN> and <SPAN CLASS="cmd">troff(1)</SPAN> source:
							<A CLASS="ref-link"
							HREF="http://minnie.tuhs.org/cgi-bin/utree.pl?file=32V/usr/src/cmd/troff">/usr/src/cmd/troff</A>.
						</LI>
					</UL>
				</DIV>
			</DD>
		</DL>
		<H2 ID="renaissance">
			Renaissance: 1989&ndash;2007
		</H2>
		<P>
			This covers re-implementations of the classic <SPAN CLASS="cmd">roff(1)</SPAN>, <SPAN CLASS="cmd">troff(1)</SPAN>, and
			<SPAN CLASS="cmd">nroff(1)</SPAN> utilities.
		</P>
		<DL>
			<DT>
				1989: GNU troff (<A HREF="http://www.jclark.com/">James Clarke</A>)
			</DT>
			<DD>
				<P>
					TODO...
				</P>
			</DD>
		</DL>
		<H2 ID="nextgen">
			Next Generation: 2008&ndash;present
		</H2>
		<P CLASS="foot">
			<SMALL>
				Copyright &copy; 2011 <A CLASS="external" HREF="http://kristaps.bsd.lv">Kristaps Dzonsons</A>, $Date$
			</SMALL>
		</P>
	</BODY>
</HTML>
